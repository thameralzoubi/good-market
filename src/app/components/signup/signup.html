<div class="signup-page">
  <div class="signup-card">
    <h2>Create New Account</h2>
    <p class="subtitle">Join us and enjoy the best shopping experience</p>

    <form #signupForm="ngForm" (ngSubmit)="onSubmit(signupForm)" novalidate>
      <div class="form-group">
        <label>First Name</label>
        <input type="text" name="firstName" ngModel required placeholder="Enter first name" />
      </div>

      <div class="form-group">
        <label>Last Name</label>
        <input type="text" name="lastName" ngModel required placeholder="Enter last name" />
      </div>

      <div class="form-group username-group">
        <label>Username</label>
        <div class="username-wrapper">
          <input
            type="text"
            name="username"
            ngModel
            required
            minlength="3"
            placeholder="Choose a username"
            (input)="onUsernameInput($event.target.value)"
          />
          <!-- ✅ أيقونة الصح تظهر فقط عند صحة الاسم -->
          <lucide-icon *ngIf="usernameValid" name="Check" class="check-icon"></lucide-icon>
        </div>
        <small class="error" *ngIf="usernameValid === false">{{ usernameMessage }}</small>
      </div>

      <div class="form-group">
        <label>Email</label>
        <input type="email" name="email" ngModel required placeholder="example@mail.com" />
      </div>

      <div class="form-group password-group">
        <label>Password</label>
        <div class="password-wrapper">
          <input
            [type]="showPassword ? 'text' : 'password'"
            name="password"
            ngModel
            required
            minlength="6"
            placeholder="Enter password"
          />
          <lucide-icon
            name="{{ showPassword ? 'EyeOff' : 'Eye' }}"
            (click)="togglePassword()"
            class="eye-icon"
          >
          </lucide-icon>
        </div>
      </div>

      <div class="form-group password-group">
        <label>Confirm Password</label>
        <div class="password-wrapper">
          <input
            [type]="showConfirmPassword ? 'text' : 'password'"
            name="confirmPassword"
            ngModel
            required
            minlength="6"
            placeholder="Confirm password"
          />
          <lucide-icon
            name="{{ showConfirmPassword ? 'EyeOff' : 'Eye' }}"
            (click)="toggleConfirmPassword()"
            class="eye-icon"
          >
          </lucide-icon>
        </div>
      </div>

      <button type="submit" class="btn-submit">Create Account</button>
    </form>

    <p class="login-link">Already have an account? <a (click)="openLoginModal()">Login</a></p>
  </div>

  <app-login-modal *ngIf="showLoginModal" (close)="closeLoginModal()"></app-login-modal>
</div>
